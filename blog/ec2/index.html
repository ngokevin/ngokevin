<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhml"
      xmlns:fb="http://ogp.me/ns/fb#"
      xml:lang="en" lang="en">

  <head>
    <title>ngokevin | Amazon EC2 Instance and Puppet</title>
    <link rel="stylesheet" type="text/css" href="/css/bundle.css" />
    <link href='http://fonts.googleapis.com/css?family=Ubuntu:400,500,700' rel='stylesheet' type='text/css'>
    <link rel="icon" type="image/x-icon" href="/img/favicon.ico?v=5"/>
    <meta name="viewport" content="width=device-width">
    
  <link rel="stylesheet" type="text/css" href="/css/page.css" />
  
    <meta property="og:image" content="http://i.imgur.com/TlXG0.png"/>
  
  <meta property="og:description" content="I finally took the splurge on an AWS micro EC2 (Elastic Cloud Compute) instance. Well, it wasn&#39;t really a splurge since I created a new Amazon account to qualify for their one-year free usage tier. The meat of the AWS Free Usage Tier (per month): 750 hours of EC2 Linux Micro Instance Usage (613MB memory) -- the whole month 30GB of Elastic Block Storage -- preallocated &#34;mountable&#34; disk space 5GB of S3 15GB bandwidth out After the period is over (which I may then create another new account), a Micro instance is $.020 per hour, and the EBS volumes are $.10 per GB per month. Not bad at all especially with the recent price drops. Linode was another option, but they had me playing Goldilocks; they offered a few fixed options that were either not enough or too much. Amazon on the flip side is pay-as-you-go (and of course a free year). Perhaps if I used my instance enough, they&#39;ll forget about charging me like they did with my Amazon Prime account that has been good and free since forever. I found this to be a good chance to practice my Puppet-eering. A month ago, I started a Git repository for what meant to be my Puppet manifests, but I never got around to it. Though with some help from limed and Playdoh&#39;s Puppet template, I found a nice structure for my Puppet files and manifests. puppet-ngokevin/ |-- files | |-- etc | | |-- apache2 | | | |-- sites-enabled | | | |-- ngokevin.conf | | |-- vim | | |-- vimrc | |-- home | |-- bashrc | |-- beetsconfig |-- manifests | |-- classes | | |-- apache2.pp | | |-- apt.pp | | |-- bash.pp | | |-- beets.pp | | |-- git.pp | | |-- init.pp | | |-- ngokevin.pp | | |-- python.pp | | |-- subsonic.pp | | |-- tzdata.pp | | |-- vim.pp | | |-- wok.pp | |-- puppet-ngokevin.pp |-- pip I had puppet-ngokevin.pp act as the main manifest, defining parameters and specifying the order in which classes are applied. And it&#39;s smooth sailing from there: bring in configs, install packages, and set up this site. A successful Puppet apply is like rolling a d20. After that, I just pointed my domain name towards the public DNS of my instance, and to the Internet it goes. Next, I need to get a ~30gB EBS volume to store my music for some Subsonic goodness. I can finally put to rest my home server that&#39;s running under a desk in Portland. You&#39;ve done well, friend."/>

  </head>

  <body>
    <div id="wrap" class="c">
      <header>
        <div class="logos">
          <h1 id="logo">
            <a href='/'>ngo<strong>kevin</strong></a>
            <span class="social">
              <a href="mailto:me@ngokevin.com"><i class="fa fa-envelope"></i></a>
              <a href="http://twitter.com/andgokevin"><i class="fa fa-twitter-square"></i></a>
              <a href="http://github.com/ngokevin"><i class="fa fa-github-square"></i></a>
              <a type="application/rss+xml" href="/rss"><i class="fa fa-rss-square"></i></a>
            </span>
          </h1>
          <span id="sublogo">virtual reality developer at mozilla</span>
          <ul class="blog-tags">
            
              <li>
                <a href="/blog/tags/code/"
                   >
                  Code</a>
              </li>
            
              <li>
                <a href="/blog/tags/life/"
                   >
                  Life</a>
              </li>
            
              <li>
                <a href="/blog/tags/photography/"
                   >
                  Shoot</a>
              </li>
            
              <li>
                <a href="/blog/tags/poker/"
                   >
                  Poker</a>
              </li>
            
          </ul>
        </div>

        <nav>
          
            <a href="/about/">
              <span>
                About</span>
            </a>
          
            <a href="/">
              <span>
                Write</span>
            </a>
          
            <a href="/photography/">
              <span>
                Shoot</span>
            </a>
          
        </nav>
      </header>

      <div class="main">
        <div class="header-group">
  <div class="blog">
    <h1>Amazon EC2 Instance and Puppet</h1>

    <p class="metadata">
      
        Friday March 09, 2012
      
    </p>
  </div>

  <div id="top-share" class="addthis_toolbox addthis_default_style">
  <a class="addthis_button_facebook_like" fb:like:layout="button_count"></a>
  <a class="addthis_button_tweet"></a>
</div>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-513af3cd5e69b4ae"></script>
</div>

        <div class="base-image">
          
            <div class="page_pic right">
              <img src="http://i.imgur.com/TlXG0.png">
              
            </div>
          
        </div>

        
  <div class="page c">
    <p>I finally took the splurge on an <a href="http://aws.amazon.com">AWS</a> micro EC2
(Elastic Cloud Compute) instance. Well, it wasn't really a splurge since I
created a new Amazon account to qualify for their one-year free usage tier.</p>
<p>The meat of the AWS Free Usage Tier (per month):</p>
<ul>
<li>750 hours of <a href="http://aws.amazon.com/ec2">EC2</a> Linux Micro Instance Usage (613MB memory) -- the
  whole month</li>
<li>30GB of <a href="http://aws.amazon.com/ebs">Elastic Block Storage</a> -- preallocated "mountable" disk space</li>
<li>5GB of <a href="http://aws.amazon.com/ebs">S3</a></li>
<li>15GB bandwidth out</li>
</ul>
<p>After the period is over (which I may then create another new account), a Micro
instance is $.020 per hour, and the EBS volumes are $.10 per GB per month. Not
bad at all especially with the recent price drops.
<a href="http://www.linode.com">Linode</a> was another option, but they had me playing
Goldilocks; they offered a few fixed options that were either not enough or too
much. Amazon on the flip side is pay-as-you-go (and of course a free year).
Perhaps if I used my instance enough, they'll forget about charging me like
they did with my Amazon Prime account that has been good and free since
forever.</p>
<p>I found this to be a good chance to practice my Puppet-eering. A month ago, I
started a Git repository for what meant to be my Puppet manifests, but I never
got around to it. Though with some help from <a href="http://github.com/limed">limed</a>
and <a href="http://github.com/mozilla/playdoh">Playdoh's</a> Puppet template, I found a
nice structure for my Puppet files and manifests.</p>
<div class="highlight"><pre>puppet-ngokevin/
|-- files
|   |-- etc
|   |   |-- apache2
|   |   |   |-- sites-enabled
|   |   |       |-- ngokevin.conf
|   |   |-- vim
|   |       |-- vimrc
|   |-- home
|       |-- bashrc
|       |-- beetsconfig
|-- manifests
|   |-- classes
|   |   |-- apache2.pp
|   |   |-- apt.pp
|   |   |-- bash.pp
|   |   |-- beets.pp
|   |   |-- git.pp
|   |   |-- init.pp
|   |   |-- ngokevin.pp
|   |   |-- python.pp
|   |   |-- subsonic.pp
|   |   |-- tzdata.pp
|   |   |-- vim.pp
|   |   |-- wok.pp
|   |-- puppet-ngokevin.pp
|-- pip
</pre></div>


<p>I had puppet-ngokevin.pp act as the main manifest, defining parameters and
specifying the order in which classes are applied. And it's smooth sailing from
there: bring in configs, install packages, and set up this site. A successful
Puppet apply is like rolling a d20. After that, I just pointed my domain name
towards the public DNS of my instance, and to the Internet it goes. Next, I need
to get a ~30gB EBS volume to store my music for some Subsonic goodness.</p>
<p>I can finally put to rest my home server that's running under a desk in
Portland. You've done well, friend.</p>
  </div>

  <p class="end-sect">&sect;</p>
  <div id="bottom-share" class="addthis_toolbox addthis_default_style">
  <a class="addthis_button_facebook_like" fb:like:layout="button_count"></a>
  <a class="addthis_button_tweet"></a>
</div>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-513af3cd5e69b4ae"></script>
   <div id="disqus_thread"></div>
  <script type="text/javascript">
      /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
      var disqus_shortname = 'ngokevin'; // required: replace example with your forum shortname

      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function() {
           var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
           dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
           (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
  <script src="https://cdn.jsdelivr.net/anchorjs/3.0.0/anchor.min.js"></script>
  <script>anchors.add('h2, h3, h4, h5, h6');</script>

      </div>
    </div>

    <div id="footer">
      <a href="mailto:me@ngokevin.com"><i class="fa fa-envelope"></i></a>
      <a href="http://twitter.com/ngokevin_"><i class="fa fa-twitter-square"></i></a>
      <a href="http://github.com/ngokevin"><i class="fa fa-github-square"></i></a>
      <a type="application/rss+xml" href="/rss/index.xml"><i class="fa fa-rss-square"></i></a>
    </div>

     <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-29871909-1']);
  _gaq.push(['_trackPageview']);

  (function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
  </body>
</html>