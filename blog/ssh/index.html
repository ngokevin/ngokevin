<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhml"
      xmlns:fb="http://ogp.me/ns/fb#"
      xml:lang="en" lang="en">

  <head>
    <title>ngokevin | How to SSH</title>
    <link rel="stylesheet" type="text/css" href="/css/bundle.css" />
    <link href='http://fonts.googleapis.com/css?family=Ubuntu:400,500,700' rel='stylesheet' type='text/css'>
    <link rel="icon" type="image/x-icon" href="/img/favicon.ico?v=5"/>
    <meta name="viewport" content="width=device-width">
    
  <link rel="stylesheet" type="text/css" href="/css/page.css" />
  
  <meta property="og:description" content="SSH is a secure client-server network protocol that allows you to connect with another box (computer). With this, you can transfer files between your local computer and the remote host. Even better, you can even edit files or execute commands on the remote host. This guide will explain how to effectively use SSH to communicate with another box and how to set up an SSH server so you can SSH into your box. Basic SSH If you are in Windows, download PuTTy. To use it, simply type in the host you want to connect to (e.g shell.onid.oregonstate.edu) and open. Sadly, this will be the greatest extent of which you can harness the power of SSH in a Windows environment. You can use PSCP to transfer files, but your powers here are severly limited. If you are on an Android mobile device, install ConnectBot and follow the similar instructions above. Yup, mobile devices have SSH clients too, cool huh. Linux and Mac make it really easy for you by having SSH already baked in and offers much more flexibility (as usually the case when going with the command line). Let&#39;s try it out. Open up a terminal and SSH into a remote host that is currently running an SSH daemon (server) and which you have access to. ~$ ssh [username]@[remote host]:[destination path] OSU&#39;s ONID shell server will serve as a good example. Check out the [OSU Network at your Disposal][resource] guide for more information on what other boxes you may have access to. ~$ ssh [username]@shell.onid.oregonstate.edu After authenticating, you should be dropped into a bash shell. Take a moment, breathe, and regain your bearings. Let&#39;s try to execute a command. [username]@shell:~$ ls You should now see all of your files and folders that you have in your home folder on that box. Pretty cool. Now go out and explore. Run wild. Make some folders and edit some files with [vim][]. Basic SCP SCP (Secure Copy) is a means of securely transferring files, using the SSH protocol, between two computers. You can transfer a file to a remote host, or even transfer a file from a remote host. To transfer a file to another box ~$ scp [file] [username]@[remote host]:[destination path] Let&#39;s try it out by creating a file and shipping it to the ONID shell server. ~$ echo &#34;hello world!&#34; &gt; scp_test ~$ scp scp_test [username]@shell.onid.oregonstate.edu:./made_it If you wish to know what that first line does, check out our [bash][] guide. Notice what we put in the destination path. The ./ means current directory, which will be your home folder, and made_it is what the name of the file will be once it gets there. Let&#39;s see our little file made it safely. ~$ ssh [username]@shell.onid.oregonstate.edu ~$ less made_it And like magic, we have successfully sent our file out into the world. Look at it, living on its own in its own box, all grown up. Just a moment ago, it was a tad little file. But we miss it so much, let&#39;s get it back. To transfer a file from another box ~$ scp [username]@[remote host]:[file path] [destination path] Time to get our little boy back. ~$ scp [username]@shell.onid.oregonstate.edu:./made_it ~/Downloads/made_it_back ~$ cd ~/Downloads ~$ less made_it_back And ta-da. Notice how we mixed it up a bit and specified the destination path as our Downloads folder. When we send a file to and from a host, we choose where we want to drop it and specify where it is located respectively. So when transferring a file from another box, it helps to already know where that file is. SSH Public and Private Keys Are you tired of having to enter in your password every time you SSH into another host? Well, wake up! Public-key encryption is a system requiring two keys, one to encrypt plaintext and the other to decrypt plaintext. How authentication works with keys is that you can generate a public key (which everybody is allowed to know) and a private key (which is kept secret and should not be given to anybody). You then copy your public key to the other host. When you try to connect, the server will verify the public key it is holding for you against a signature created by your private key. Without your private key, no one is able to pose as you, which why you never give away your private key. To generate a key pair (public and private key), navigate to your .ssh directory if you have one or create one with mkdir if you don&#39;t. ~$ cd ~/.ssh ~$ mkdir ~/.ssh Then we generate the keys: ~$ ssh-keygen -t dsa It will prompt you to do stuff. Simply press RETURN over and over until it stops bugging you. And copy over your public key to the remote host (again using shell as our example). This command simply appends your public key to your remote host&#39;s list of authorized keys. An alternative method is to simply copy your key with gedit or vim, and paste the key into ~/.ssh/authorized_keys with vim. The command below makes it much easier however. ~$ cat id_dsa.pub | ssh [username]@shell.onid.oregonstate.edu &#34;cat &gt;&gt; ~/.ssh/authorized_keys&#34; Now let&#39;s see if it worked! SSH into shell and it should not prompt you for a password since it knows who you are now. If it worked, great! If not, feel free to ask us in IRC. SSH X Forwarding Growing weary of only talking to another box throw the command line? Well, here&#39;s a hit of caffiene! You can actually run programs like Firefox (GUI included) and use it as if you were running it on your own local computer. It&#39;s fairly simple. Just add the -X option. We&#39;ll continue to use our shell example. ~$ ssh -X [username]@shell.onid.oregonstate.edu Try running any program. I recommend running it in the background with &amp; so you can still use the command line while you click around your GUI. ~$ firefox &amp; SSHD (SSH Server) To set up an SSH server, first make sure sshd is installed. This is the daemon that listens for SSH requests. You can install via apt if you are on a Debian-based system and often it will come default. Once installed, the default port will be 22. If you want to change the port (in case you have multiple machines with sshd within one network), edit your /etc/ssh/sshd_config. Then when you SSH, just add the -p option with the port (ssh -p 2222 [host]). Try SSHing into your machine. If you are on a home network, get your current NAT IP with ipconfig and try SSHing into that (e.g. ~$ ssh 192.168.1.132). If you want to SSH from outside your network, you need to open up port 22 on your router firewall. This can be done from your router web interface (usually on 192.168.1.1 or 192.168.2.1). The setting for firewall is usually called virtual server, NAT/QoS/ applications and gaming, firewall, or something similar. I&#39;m sure you are currently on the edge of your seat flailing your arms in epiphany. For your sake, I will refrain from giving you any more information. Go, go out! SSH everywhere. The Internet is in an oyster in your hands!"/>

  </head>

  <body>
    <div id="wrap" class="c">
      <header>
        <div class="logos">
          <h1 id="logo">
            <a href='/'>ngo<strong>kevin</strong></a>
            <span class="social">
              <a href="mailto:me@ngokevin.com"><i class="fa fa-envelope"></i></a>
              <a href="http://twitter.com/andgokevin"><i class="fa fa-twitter-square"></i></a>
              <a href="http://github.com/ngokevin"><i class="fa fa-github-square"></i></a>
              <a type="application/rss+xml" href="/rss"><i class="fa fa-rss-square"></i></a>
            </span>
          </h1>
          <span id="sublogo">virtual reality developer at mozilla</span>
          <ul class="blog-tags">
            
              <li>
                <a href="/blog/tags/code/"
                   >
                  Code</a>
              </li>
            
              <li>
                <a href="/blog/tags/life/"
                   >
                  Life</a>
              </li>
            
              <li>
                <a href="/blog/tags/photography/"
                   >
                  Shoot</a>
              </li>
            
              <li>
                <a href="/blog/tags/poker/"
                   >
                  Poker</a>
              </li>
            
          </ul>
        </div>

        <nav>
          
            <a href="/about/">
              <span>
                About</span>
            </a>
          
            <a href="/">
              <span>
                Write</span>
            </a>
          
            <a href="/photography/">
              <span>
                Shoot</span>
            </a>
          
        </nav>
      </header>

      <div class="main">
        <div class="header-group">
  <div class="blog">
    <h1>How to SSH</h1>

    <p class="metadata">
      
        Sunday October 23, 2011
      
    </p>
  </div>

  <div id="top-share" class="addthis_toolbox addthis_default_style">
  <a class="addthis_button_facebook_like" fb:like:layout="button_count"></a>
  <a class="addthis_button_tweet"></a>
</div>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-513af3cd5e69b4ae"></script>
</div>

        <div class="base-image">
          
        </div>

        
  <div class="page c">
    <p>SSH is a secure client-server network protocol that allows you to connect with
another box (computer). With this, you can transfer files between your local
computer and the remote host. Even better, you can even edit files or execute
commands on the remote host. This guide will explain how to effectively use SSH
to communicate with another box and how to set up an SSH server so you can SSH
into <em>your</em> box.</p>
<h2 id="basic-ssh">Basic SSH</h2>
<p>If you are in Windows, download <a href="http://the.earth.li/~sgtatham/putty/latest/x86/putty.exe">PuTTy</a>. To use it, simply type in the
host you want to connect to (e.g shell.onid.oregonstate.edu) and open. Sadly,
this will be the greatest extent of which you can harness the power of SSH in a
Windows environment. You can use <a href="http://the.earth.li/~sgtatham/putty/latest/x86/pscp.exe">PSCP</a> to transfer files, but your
powers here are severly limited.</p>
<p>If you are on an Android mobile device, install ConnectBot and follow the
similar instructions above. Yup, mobile devices have SSH clients too, cool huh.</p>
<p>Linux and Mac make it really easy for you by having SSH already baked in and
offers much more flexibility (as usually the case when going with the command
line).  Let's try it out. Open up a terminal and SSH into a remote host that is
currently running an SSH daemon (server) and which you have access to.</p>
<div class="highlight"><pre><span class="o">~</span><span class="err">$</span> <span class="n">ssh</span> <span class="p">[</span><span class="n">username</span><span class="p">]</span><span class="l">@[</span><span class="n">remote</span> <span class="n">host</span><span class="l">]</span><span class="o">:</span><span class="p">[</span><span class="n">destination</span> <span class="n">path</span><span class="p">]</span>
</pre></div>


<p>OSU's ONID shell server will serve as a good example. Check out the [OSU Network at
your Disposal][resource] guide for more information on what other boxes you
may have access to.</p>
<div class="highlight"><pre>~$ ssh [username]@shell.onid.oregonstate.edu
</pre></div>


<p>After authenticating, you should be dropped into a bash shell. Take a moment,
breathe, and regain your bearings. Let's try to execute a command.</p>
<div class="highlight"><pre>[username]@shell:~$ ls
</pre></div>


<p>You should now see all of your files and folders that you have in your home
folder on that box. Pretty cool. Now go out and explore. Run wild. Make some
folders and edit some files with [vim][].</p>
<h2 id="basic-scp">Basic SCP</h2>
<p>SCP (Secure Copy) is a means of securely transferring files, using the SSH
protocol, between two computers. You can transfer a file to a remote host, or
even transfer a file <em>from</em> a remote host.</p>
<p>To transfer a file <em>to</em> another box</p>
<div class="highlight"><pre><span class="o">~</span><span class="err">$</span> <span class="n">scp</span> <span class="p">[</span><span class="n">file</span><span class="p">]</span> <span class="p">[</span><span class="n">username</span><span class="p">]</span><span class="l">@[</span><span class="n">remote</span> <span class="n">host</span><span class="l">]</span><span class="o">:</span><span class="p">[</span><span class="n">destination</span> <span class="n">path</span><span class="p">]</span>
</pre></div>


<p>Let's try it out by creating a file and shipping it to the ONID shell server.</p>
<div class="highlight"><pre>~$ echo &quot;hello world!&quot; &gt; scp_test
~$ scp scp_test [username]@shell.onid.oregonstate.edu:./made_it
</pre></div>


<p>If you wish to know what that first line does, check out our [bash][] guide.
Notice what we put in the destination path. The <code>./</code> means current directory,
which will be your home folder, and <code>made_it</code> is what the name of the file will
be once it gets there. Let's see our little file made it safely.</p>
<div class="highlight"><pre>~$ ssh [username]@shell.onid.oregonstate.edu
~$ less made_it
</pre></div>


<p>And like magic, we have successfully sent our file out into the world. Look at
it, living on its own in its own box, all grown up. Just a moment ago, it was a
tad little file. But we miss it so much, let's get it back.</p>
<p>To transfer a file <em>from</em> another box</p>
<div class="highlight"><pre><span class="o">~</span><span class="err">$</span> <span class="n">scp</span> <span class="p">[</span><span class="n">username</span><span class="p">]</span><span class="l">@[</span><span class="n">remote</span> <span class="n">host</span><span class="l">]</span><span class="o">:</span><span class="p">[</span><span class="n">file</span> <span class="n">path</span><span class="p">]</span> <span class="p">[</span><span class="n">destination</span> <span class="n">path</span><span class="p">]</span>
</pre></div>


<p>Time to get our little boy back.</p>
<div class="highlight"><pre>~$ scp [username]@shell.onid.oregonstate.edu:./made_it ~/Downloads/made_it_back
~$ cd ~/Downloads
~$ less made_it_back
</pre></div>


<p>And ta-da. Notice how we mixed it up a bit and specified the destination path
as our Downloads folder. When we send a file to and from a host, we choose
where we want to drop it and specify where it is located respectively. So when
transferring a file <em>from</em> another box, it helps to already know where that
file is.</p>
<h2 id="ssh-public-and-private-keys">SSH Public and Private Keys</h2>
<p>Are you tired of having to enter in your password every time you SSH into
another host? Well, wake up! Public-key encryption is a system requiring two
keys, one to encrypt plaintext and the other to decrypt plaintext. How
authentication works with keys is that you can generate a public key (which
everybody is allowed to know) and a private key (which is kept secret and
should not be given to anybody). You then copy your public key to the other
host.  When you try to connect, the server will verify the public key it is
holding for you against a signature created by your private key. Without your
private key, no one is able to pose as you, which why you never give away your
private key.</p>
<p>To generate a key pair (public and private key), navigate to your .ssh
directory if you have one or create one with mkdir if you don't.</p>
<div class="highlight"><pre>~$ cd ~/.ssh
~$ mkdir ~/.ssh
</pre></div>


<p>Then we generate the keys:</p>
<div class="highlight"><pre>~$ ssh-keygen -t dsa
</pre></div>


<p>It will prompt you to do stuff. Simply press RETURN over and over until it
stops bugging you.</p>
<p>And copy over your public key to the remote host (again using shell as our
example). This command simply appends your public key to your remote host's
list of authorized keys. An alternative method is to simply copy your key with
gedit or vim, and paste the key into ~/.ssh/authorized_keys with vim. The
command below makes it much easier however.</p>
<div class="highlight"><pre>~$ cat id_dsa.pub | ssh [username]@shell.onid.oregonstate.edu &quot;cat &gt;&gt; ~/.ssh/authorized_keys&quot;
</pre></div>


<p>Now let's see if it worked! SSH into shell and it should not prompt you for a
password since it knows who you are now. If it worked, great! If not, feel free
to ask us in <a href="/guides/irc/index.html">IRC</a>.</p>
<h2 id="ssh-x-forwarding">SSH X Forwarding</h2>
<p>Growing weary of only talking to another box throw the command line? Well,
here's a hit of caffiene! You can actually run programs like Firefox (GUI
included) and use it as if you were running it on your own local computer.
It's fairly simple. Just add the -X option. We'll continue to use our shell
example.</p>
<div class="highlight"><pre>~$ ssh -X [username]@shell.onid.oregonstate.edu
</pre></div>


<p>Try running any program. I recommend running it in the background with <code>&amp;</code> so
you can still use the command line while you click around your GUI.</p>
<div class="highlight"><pre>~$ firefox &amp;
</pre></div>


<h2 id="sshd-ssh-server">SSHD (SSH Server)</h2>
<p>To set up an SSH server, first make sure sshd is installed. This is the daemon that listens for SSH requests. You can install via apt if you are on a Debian-based system and often it will come default.</p>
<p>Once installed, the default port will be 22. If you want to change the port (in case you have multiple machines with sshd within one network), edit your /etc/ssh/sshd_config. Then when you SSH, just add the -p option with the port (ssh -p 2222 [host]).</p>
<p>Try SSHing into your machine. If you are on a home network, get your current NAT IP with ipconfig and try SSHing into that (e.g. ~$ ssh 192.168.1.132). If you want to SSH from outside your network, you need to open up port 22 on your router firewall. This can be done from your router web interface (usually on 192.168.1.1 or 192.168.2.1). The setting for firewall is usually called virtual server, NAT/QoS/ applications and gaming, firewall, or something similar.</p>
<p>I'm sure you are currently on the edge of your seat flailing your arms in
epiphany.  For your sake, I will refrain from giving you any more information.
Go, go out! SSH everywhere. The Internet is in an oyster in your hands!</p>
  </div>

  <p class="end-sect">&sect;</p>
  <div id="bottom-share" class="addthis_toolbox addthis_default_style">
  <a class="addthis_button_facebook_like" fb:like:layout="button_count"></a>
  <a class="addthis_button_tweet"></a>
</div>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-513af3cd5e69b4ae"></script>
   <div id="disqus_thread"></div>
  <script type="text/javascript">
      /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
      var disqus_shortname = 'ngokevin'; // required: replace example with your forum shortname

      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function() {
           var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
           dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
           (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
  <script src="https://cdn.jsdelivr.net/anchorjs/3.0.0/anchor.min.js"></script>
  <script>anchors.add('h2, h3, h4, h5, h6');</script>

      </div>
    </div>

    <div id="footer">
      <a href="mailto:me@ngokevin.com"><i class="fa fa-envelope"></i></a>
      <a href="http://twitter.com/ngokevin_"><i class="fa fa-twitter-square"></i></a>
      <a href="http://github.com/ngokevin"><i class="fa fa-github-square"></i></a>
      <a type="application/rss+xml" href="/rss/index.xml"><i class="fa fa-rss-square"></i></a>
    </div>

     <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-29871909-1']);
  _gaq.push(['_trackPageview']);

  (function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
  </body>
</html>