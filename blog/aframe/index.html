<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhml"
      xmlns:fb="http://ogp.me/ns/fb#"
      xml:lang="en" lang="en">

  <head>
    <title>ngokevin | A-Frame - Virtual Reality on the Web Simplified</title>
    <link rel="stylesheet" type="text/css" href="/css/bundle.css" />
    <link href='http://fonts.googleapis.com/css?family=Ubuntu:400,500,700' rel='stylesheet' type='text/css'>
    <link rel="icon" type="image/x-icon" href="/img/favicon.ico?v=5"/>
    <meta name="viewport" content="width=device-width">
    
  <link rel="stylesheet" type="text/css" href="/css/page.css" />
  
    <meta property="og:image" content="http://i.imgur.com/TyqA9Gwl.png"/>
  
  <meta property="og:description" content="Today, the Mozilla virtual reality team (MozVR) released an open-source library for beginners and developers alike to easily create WebVR experiences. It&#39;s called A-Frame. A-Frame wraps three.js into custom elements so the HTML and DOM manipulations that web developers are accustomed to can be used to create 3D VR scenes in the browser. Under the hood, A-Frame brings the entity component system, a pattern common in game development, to the DOM. It supports both desktop, if you got a Rift, or easier, you can even use a smartphone. This post serves as a speed-through introduction of A-Frame, refer the documentation at any time for much more detail. A-Frame, like the video games that have influenced all of us, ships at a several difficulty levels. We&#39;ll journey all the way from the comfortable bed of hierarchical HTML, through the jungles of the core entity-component system, and finally scale the walls of integration with React. Check out A-Frame stylin&#39; with the DevTools. Enabling WebVR At time of writing, to view the scenes in VR: On desktop, get Firefox Developer Edition or Firefox Nightly, and install the WebVR Enabler Add-on. To use with an Oculus Rift DK2, have the Oculus runtime installed (0.5.x for OS X). On mobile, just open any A-Frame site using your phone browser (e.g., Firefox for iOS, Firefox for Android, Chrome for Android, Safari for iOS). &#34;Piece of Cake&#34; Difficulty - Codepen For those that just want to play around with A-Frame immediately, check out the example on Codepen. Codepen lets you edit code in the browser and immediately see the result. You&#39;ll see a scene that currenty looks something like this: With the introductory Codepen examples, we are exposing a very high-level abstraction on top of A-Frame, using templated primitives, to ease developers into the entity-component system. So this should be fairly readable to most. Now what do we do with this? Click on the Goggles icon to view in VR. And try modifying some values and see the scene change live. Try changing the color of the cube (e.g., color=&#34;#748B9C&#34; for a rainy day blue). Try changing the size of the sphere (e.g., radius=&#34;0.25&#34; to make it a little baby sphere). Try changing the position of the cylinder (e.g., position=&#34;1 1 1&#34; to raise the roof). As amazing as that was, a Codepen is still a pen. The ambitions of VR are not suitable for being fenced in. Like the Kool-Aid Man, we must break out of the confinements of a coding playground. &#34;Let&#39;s Rock&#34; Difficulty - Boilerplate For beginners that want to start playing with some toy scenes locally and hacking away, check out the basic A-Frame boilerplate. Boilerplate refers to pre-written reusable code that can be made your own with minimal modification. Note that I say this intended for beginners because it focuses on using the templated primitives abstraction and hides away the underlying engine. For developers that want to get their hands dirty, I would skip this and move directly to the entity-component system. The boilerplate provides the same code found in the Codepen above, but also can be downloaded as a ZIP package or forked on Github. Once you have the code on your machine, just modify it in your favorite text editor and fire it up in the browser. &#34;Come Get Some&#34; Difficulty - Primitives For those that want to start writing scenes from scratch in vanilla HTML, check out A-Frame&#39;s pre-built primitive. A &#34;primitive&#34; in computer graphics is a basic building block like a cube or a sphere. They are: Are pre-fabricated custom elements like &lt;a-cube&gt; or &lt;a-sphere&gt; that combine recipes of components to achieve the intended result. Are a convenience and usability wrapper on top of the underlying entity-component system. Are much cleaner in syntax but are less flexible and composable than using the entity-component system directly. For example, rather than having: &lt;a-scene&gt; &lt;a-entity&gt; &lt;a-entity camera look-controls wasd-controls&gt;&lt;/a-entity&gt; &lt;/a-entity&gt; &lt;a-entity geometry=&#34;primitive: box; depth: 1; height: 1; width: 1&#34; material=&#34;color: red&#34;&gt; &lt;/a-entity&gt; &lt;/a-scene&gt; Templates wrap the entity into something more concise: &lt;a-scene&gt; &lt;a-cube color=&#34;red&#34; depth=&#34;1&#34; height=&#34;1&#34; width=&#34;1&#34;&gt;&lt;/a-cube&gt; &lt;/a-scene&gt; Anyone can create their own templates since they are just defined in HTML. Let&#39;s reveal the definition of &lt;a-cube&gt;: &lt;template is=&#34;a-template&#34; element=&#34;a-cube&#34; width=&#34;1.5&#34; height=&#34;1.5&#34; depth=&#34;1.5&#34; translate=&#34;0 0 0&#34; color=&#34;gray&#34; opacity=&#34;1.0&#34; shader=&#34;standard&#34; transparent=&#34;true&#34; metalness=&#34;0.0&#34; roughness=&#34;0.5&#34; src=&#34;&#34;&gt; &lt;a-entity geometry=&#34;primitive: box; width: ${width}; height: ${height}; depth: ${depth}; translate: ${translate}&#34; material=&#34;color: ${color}; opacity: ${opacity}; shader: ${shader}; transparent: ${transparent}; metalness: ${metalness}; roughness: ${roughness}; src: url(${src})&#34;&gt;&lt;/a-entity&gt; &lt;/template&gt; &lt;a-cube&gt; wraps a single entity (with the geometry.primitive=box) and exposes a few component attributes as HTML attributes. Don&#39;t worry about the attributes that seem unfamiliar, we will go over some of them later and point to the comprehensive documentation. A-Frame also has an animation system. Let&#39;s try makng the cube rotate indefinitely. The animation system also works with the core system, not just templates. &lt;a-scene&gt; &lt;a-cube color=&#34;red&#34; depth=&#34;1&#34; height=&#34;1&#34; width=&#34;1&#34;&gt; &lt;a-animation attribute=&#34;rotation&#34; repeat=&#34;indefinite&#34; to=&#34;0 360 360&#34;&gt;&lt;/a-animation&gt; &lt;/a-cube&gt; &lt;/a-scene&gt; Caveats Templates may be subject to flux such as reimplementation or modularization into a different repository. From a technical standpoint, A-Frame templates and primitives are somewhat immature and less flexible, but from a product standpoint, they are more usable and less exotic to newer users of A-Frame. For full flexbility, we have to dig deeper. &#34;Damn I&#39;m Good&#34; Difficulty - Entity-Component System For those that want to be unleashed into the full promised power, flexibility, and composability of A-Frame, we can finally end the hand-waving and check out the core entity-component system. Despite having been abstracted away from the aforementioned templates, A-Frame is built on an entity-component system. Entities are general purpose placeholder objects. Components modify the appearance, behavior, or functionality of the entities. And every object in the scene is an entity whether it be the player, a tree, a monster, the sky, a sound, lights. Components can be mixed and matched, composed and overridden. A-Frame comes with a bunch of components, and anyone can write their own components to have objects look however or do whatever they want. Check out all of the shipped components, and check out some third-party custom components at awesome-aframe. Let&#39;s start with a blank entity: &lt;a-entity&gt;&lt;/a-entity&gt; By default, this lonely entity inherently only has a position, rotation, and scale in the scene. Without any other components, nothing will render on the scene. Let&#39;s change that, giving it a geometry (shape) and material (appearance). &lt;a-entity geometry=&#34;primitive: sphere&#34; material=&#34;color: red&#34;&gt;&lt;/a-entity&gt; Now we should be seeing something. But why stop there? Let&#39;s make it emit light on other entities. &lt;a-entity geometry=&#34;primitive: sphere&#34; material=&#34;color: red&#34; light=&#34;type: point; intensity: 2&#34;&gt;&lt;/a-entity&gt; Let&#39;s have it stare at the camera. &lt;a-entity geometry=&#34;primitive: sphere&#34; material=&#34;color: red&#34; light=&#34;type: point; intensity: 2&#34; look-at=&#34;[camera]&#34;&gt;&lt;/a-entity&gt; Let&#39;s have it emit sound. &lt;a-entity geometry=&#34;primitive: sphere&#34; material=&#34;color: red&#34; light=&#34;type: point; intensity: 2&#34; look-at=&#34;[camera]&#34; sound=&#34;src: squeak.mp3&#34;&gt;&lt;/a-entity&gt; There are all of these components that can customize our entities. And all these attributes that can customize our components. And anyone can write their own components, having free reign to add any behavior they can imagine. Some components we might write include a layout component, a vibrate component, a cloner component, an explode component, a set-on-fire component. I am very excited to see what people come up with. The raw entity-component system is what we consider low-level. But all low-level things are made to be abstracted. Bring on the hot trend of 2015, React. &#34;Born to be Wild&#34; Difficulty - React Note that A-Frame + React integration is experimental and is currently my personal project. I haven&#39;t yet stress-tested possible performance limitations that the Virtual DOM may introduce. react-three, another React library on top of three.js, had limitations because each object introduced its own requestAnimationFrame. React + A-Frame does not have those kinds of limitations. React is a great fit with A-Frame now that React v0.14 accepts custom attributes. I gave it a shot and within an hour, I developed a library integrating A-Frame and React and a boilerplate featuring aframe-react and Webpack. Why does React work so well with A-Frame? A-Frame is already based on custom elements. It does not take much to wrap it with React. Reactive updates and data binding vastly reduces the amount of manual DOM manipulation. The React ecosystem with NPM provides a great way for sharing A-Frame templates, mixins, and components. Redux can then be layered on to provide statefulness to the application which will be great for editors and tooling. Event handling is easier as we can just set event handler functions as props on our A-Frame/React components. props makes it easy to extend and compose A-Frame component data, making A-Frame mixins completely obsolete. With Babel, a standard tool for transpiling React, giving object rest/spread properties and templating strings, passing down components are easy and concise. Here&#39;s an example scene where clicking a spinning cube changes its color. class ExampleScene extends React.Component { constructor(props) { super(props); this.state = { color: &#39;red&#39; } } changeColor = () =&gt; { const colors = [&#39;red&#39;, &#39;orange&#39;, &#39;yellow&#39;, &#39;green&#39;, &#39;blue&#39;]; this.setState({ color: colors[Math.floor(Math.random() * colors.length)], }); } render () { return ( &lt;Scene&gt; &lt;Camera&gt;&lt;Cursor/&gt;&lt;/Camera&gt; &lt;Sky/&gt; &lt;Light type=&#34;ambient&#34; color=&#34;#888&#34;/&gt; &lt;Light type=&#34;directional&#34; intensity=&#34;0.5&#34; position=&#34;-1 1 0&#34;/&gt; &lt;Light type=&#34;directional&#34; intensity=&#34;1&#34; position=&#34;1 1 0&#34;/&gt; &lt;Entity geometry=&#34;primitive: box&#34; material={{color: this.state.color}} onClick={this.changeColor} position=&#34;0 0 -5&#34;&gt; &lt;Animation attribute=&#34;rotation&#34; dur=&#34;5000&#34; repeat=&#34;indefinite&#34; to=&#34;0 360 360&#34;/&gt; &lt;/Entity&gt; &lt;/Scene&gt; ); } } Using React provides the best of all the worlds. The conciseness of A-Frame templates, the power of the A-Frame core system, and the ecosystem of NPM. The scene here is pretty concise and easy to read. To demonstrate how easy it is to create React components, here is the definition for a dumb &lt;Light&gt; using a stateless React component: export default const Light = props =&gt; { return &lt;Entity light={...props}&gt;&lt;/Entity&gt;; }; I imagine, with the current state of web development, that people will enjoy this. I know I will. Behind the Scenes - Developing A-Frame Getting more into personal notes, I have been contributing to MozVR and A-Frame over the last couple months, working on the core entity-component pieces of the system at A-Frame Core. With Firefox OS smartphones having &#34;fallen&#34; and with my previous team as well as dissolved, working in 3D and VR has been immensely exciting. To catch up, I have had to read and take notes about design, brush up on my linear alegbra, and dive into the world of 3D rendering. The Design of Everything Things, Real-Time Rendering, 3D Math Primer, Rework and Virtual Reality Insider were all books that came in handy. The hardest thing about developing on A-Frame was feeling out the target audience. Should this be for beginners, for everyone and their grandma, for novices, for seasoned developers? I still don&#39;t feel it&#39;s been quite resolved. It&#39;s a question that has driven a lot of debates with the API design and messaging. One instance of contention was the naming of &lt;a-entity&gt; vs. the former &lt;a-object&gt;. Or whether or not to hide the entity-component system behind templates and primitives such that A-Frame does not seem too exotic. The most fun thing about developing on A-Frame was how much there was to learn and discover. I was just about to hit a ceiling on the Firefox Marketplace team; after taking the whole React and Redux journey and absorbing everything, I had well outgrown the project (well, especially since it was dying). Jumping into 3D and VR, I accumulated noob gains on 3D development, rendering, game development patterns, and API design. And working with a team in-person rather than remotely was refreshing And there&#39;s more to discover like what standard VR interactions will form and what will VR web browsing look like? It&#39;s imagining a future that hasn&#39;t come. Y&#39;all remember bring your A-Frame. Further Resources Check out the official docs. Connect with us and the community on the A-Frame Slack channel. See a community-populated list of resources at awesome-aframe."/>

  </head>

  <body>
    <div id="wrap" class="c">
      <header>
        <div class="logos">
          <h1 id="logo">
            <a href='/'>ngo<strong>kevin</strong></a>
            <span class="social">
              <a href="mailto:me@ngokevin.com"><i class="fa fa-envelope"></i></a>
              <a href="http://twitter.com/andgokevin"><i class="fa fa-twitter-square"></i></a>
              <a href="http://github.com/ngokevin"><i class="fa fa-github-square"></i></a>
              <a type="application/rss+xml" href="/rss"><i class="fa fa-rss-square"></i></a>
            </span>
          </h1>
          <span id="sublogo">virtual reality developer at mozilla</span>
          <ul class="blog-tags">
            
              <li>
                <a href="/blog/tags/code/"
                   >
                  Code</a>
              </li>
            
              <li>
                <a href="/blog/tags/life/"
                   >
                  Life</a>
              </li>
            
              <li>
                <a href="/blog/tags/photography/"
                   >
                  Shoot</a>
              </li>
            
              <li>
                <a href="/blog/tags/poker/"
                   >
                  Poker</a>
              </li>
            
          </ul>
        </div>

        <nav>
          
            <a href="/about/">
              <span>
                About</span>
            </a>
          
            <a href="/">
              <span>
                Write</span>
            </a>
          
            <a href="/photography/">
              <span>
                Shoot</span>
            </a>
          
        </nav>
      </header>

      <div class="main">
        <div class="header-group">
  <div class="blog">
    <h1>A-Frame - Virtual Reality on the Web Simplified</h1>

    <p class="metadata">
      
        Wednesday December 16, 2015
      
    </p>
  </div>

  <div id="top-share" class="addthis_toolbox addthis_default_style">
  <a class="addthis_button_facebook_like" fb:like:layout="button_count"></a>
  <a class="addthis_button_tweet"></a>
</div>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-513af3cd5e69b4ae"></script>
</div>

        <div class="base-image">
          
            <div class="page_pic ">
              <img class="captioned" src="http://i.imgur.com/TyqA9Gwl.png">
              <div class="page-caption"><span>A psychadelic example I created with A-Frame VR.</span></div>
            </div>
          
        </div>

        
  <div class="page c">
    <p>Today, the Mozilla virtual reality team (<a href="http://mozvr.com">MozVR</a>)
released an open-source library for beginners and developers alike to easily
create WebVR experiences. It's called <a href="http://aframe.io">A-Frame</a>. A-Frame
wraps three.js into custom elements so the HTML and DOM manipulations that web
developers are accustomed to can be used to create 3D VR scenes in the
browser. Under the hood, A-Frame brings the <a href="https://en.wikipedia.org/wiki/Entity_component_system">entity component
system</a>, a pattern
common in game development, to the DOM. It supports both desktop, if you got a
Rift, or easier, you can even use a smartphone. This post serves as a
speed-through introduction of A-Frame, refer the
<a href="http://aframe.io/docs">documentation</a> at any time for much more detail.</p>
<p>A-Frame, like the video games that have influenced all of us, ships at a
several difficulty levels. We'll journey all the way from the comfortable bed
of hierarchical HTML, through the jungles of the core entity-component system,
and finally scale the walls of integration with <a href="https://facebook.github.io/react/">React</a>.</p>
<p><img alt="" src="http://i.imgur.com/tf9DteR.png" />
<div class="page-caption"><span>
  Check out A-Frame stylin' with the DevTools.
</span></div></p>
<h2 id="enabling-webvr">Enabling WebVR</h2>
<p>At time of writing, to view the scenes in VR:</p>
<ul>
<li>On desktop, get Firefox Developer Edition or Firefox Nightly, and install the
  <a href="https://addons.mozilla.org/en-US/firefox/addon/mozilla-webvr-enabler/">WebVR Enabler Add-on</a>. To use with an Oculus Rift DK2, have the Oculus
  runtime installed (0.5.x for OS X).</li>
<li>On mobile, just open any A-Frame site using your phone browser (e.g., Firefox
  for iOS, Firefox for Android, Chrome for Android, Safari for iOS).</li>
</ul>
<h2 id="piece-of-cake-difficulty-codepen">"Piece of Cake" Difficulty - Codepen</h2>
<p>For those that just want to play around with A-Frame immediately, check out the
<a href="http://codepen.io/team/mozvr/pen/BjygdO?editors=100">example on Codepen</a>. Codepen lets you edit code in the browser and
immediately see the result. You'll see a scene that currenty looks something
like this:</p>
<p><img alt="A-Frame Codepen" src="http://i.imgur.com/4uSINKZ.png" /></p>
<p>With the introductory Codepen examples, we are exposing a very high-level
abstraction on top of A-Frame, using templated primitives, to ease developers
into the entity-component system. So this should be fairly readable to most. Now
what do we do with this?  Click on the Goggles icon to view in VR. And try
modifying some values and see the scene change live.</p>
<ul>
<li>Try changing the color of the cube (e.g., <code>color="#748B9C"</code> for a rainy day blue).</li>
<li>Try changing the size of the sphere (e.g., <code>radius="0.25"</code> to make it a little baby sphere).</li>
<li>Try changing the position of the cylinder (e.g., <code>position="1 1 1"</code> to raise the roof).</li>
</ul>
<p>As amazing as that was, a Codepen is still a pen. The ambitions of VR are not
suitable for being fenced in. Like the Kool-Aid Man, we must break out of the
confinements of a coding playground.</p>
<h2 id="lets-rock-difficulty-boilerplate">"Let's Rock" Difficulty - Boilerplate</h2>
<p>For beginners that want to start playing with some toy scenes locally and hacking away,
check out the basic <a href="https://github.com/aframevr/aframe-boilerplate">A-Frame boilerplate</a>.
Boilerplate refers to pre-written reusable code that can be made your own with
minimal modification.</p>
<p>Note that I say this intended for beginners because it focuses on using the
templated primitives abstraction and hides away the underlying engine. For
developers that want to get their hands dirty, I would skip this and move
directly to the entity-component system.</p>
<p>The boilerplate provides the same code found in the Codepen above, but also can
be downloaded as a ZIP package or forked on Github. Once you have the code on
your machine, just modify it in your favorite text editor and fire it up in the
browser.</p>
<h2 id="come-get-some-difficulty-primitives">"Come Get Some" Difficulty - Primitives</h2>
<p>For those that want to start writing scenes from scratch in vanilla HTML, check
out A-Frame's <a href="https://aframe.io/docs/primitives/">pre-built primitive</a>.</p>
<p>A "primitive" in computer graphics is a basic building block like a cube or a
sphere. They are:</p>
<ul>
<li>Are pre-fabricated custom elements like <code>&lt;a-cube&gt;</code> or <code>&lt;a-sphere&gt;</code> that combine
  recipes of components to achieve the intended result.</li>
<li>Are a convenience and usability wrapper on top of the underlying entity-component system.</li>
<li>Are much cleaner in syntax but are less flexible and composable than using the
  entity-component system directly.</li>
</ul>
<p>For example, rather than having:</p>
<div class="highlight"><pre><span class="p">&lt;</span><span class="nt">a-scene</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">a-entity</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">a-entity</span> <span class="na">camera</span> <span class="na">look-controls</span> <span class="na">wasd-controls</span><span class="p">&gt;&lt;/</span><span class="nt">a-entity</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">a-entity</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">a-entity</span> <span class="na">geometry</span><span class="o">=</span><span class="s">&quot;primitive: box; depth: 1; height: 1; width: 1&quot;</span> <span class="na">material</span><span class="o">=</span><span class="s">&quot;color: red&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">a-entity</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">a-scene</span><span class="p">&gt;</span>
</pre></div>


<p>Templates wrap the entity into something more concise:</p>
<div class="highlight"><pre><span class="p">&lt;</span><span class="nt">a-scene</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">a-cube</span> <span class="na">color</span><span class="o">=</span><span class="s">&quot;red&quot;</span> <span class="na">depth</span><span class="o">=</span><span class="s">&quot;1&quot;</span> <span class="na">height</span><span class="o">=</span><span class="s">&quot;1&quot;</span> <span class="na">width</span><span class="o">=</span><span class="s">&quot;1&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">a-cube</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">a-scene</span><span class="p">&gt;</span>
</pre></div>


<p>Anyone can create their own templates since they are just defined in HTML.
Let's reveal the definition of <code>&lt;a-cube&gt;</code>:</p>
<div class="highlight"><pre><span class="p">&lt;</span><span class="nt">template</span> <span class="na">is</span><span class="o">=</span><span class="s">&quot;a-template&quot;</span>
          <span class="na">element</span><span class="o">=</span><span class="s">&quot;a-cube&quot;</span>
          <span class="na">width</span><span class="o">=</span><span class="s">&quot;1.5&quot;</span>
          <span class="na">height</span><span class="o">=</span><span class="s">&quot;1.5&quot;</span>
          <span class="na">depth</span><span class="o">=</span><span class="s">&quot;1.5&quot;</span>
          <span class="na">translate</span><span class="o">=</span><span class="s">&quot;0 0 0&quot;</span>
          <span class="na">color</span><span class="o">=</span><span class="s">&quot;gray&quot;</span>
          <span class="na">opacity</span><span class="o">=</span><span class="s">&quot;1.0&quot;</span>
          <span class="na">shader</span><span class="o">=</span><span class="s">&quot;standard&quot;</span>
          <span class="na">transparent</span><span class="o">=</span><span class="s">&quot;true&quot;</span>
          <span class="na">metalness</span><span class="o">=</span><span class="s">&quot;0.0&quot;</span>
          <span class="na">roughness</span><span class="o">=</span><span class="s">&quot;0.5&quot;</span>
          <span class="na">src</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">a-entity</span> <span class="na">geometry</span><span class="o">=</span><span class="s">&quot;primitive: box;</span>
<span class="s">                      width: ${width};</span>
<span class="s">                      height: ${height};</span>
<span class="s">                      depth: ${depth};</span>
<span class="s">                      translate: ${translate}&quot;</span>
            <span class="na">material</span><span class="o">=</span><span class="s">&quot;color: ${color};</span>
<span class="s">                      opacity: ${opacity};</span>
<span class="s">                      shader: ${shader};</span>
<span class="s">                      transparent: ${transparent};</span>
<span class="s">                      metalness: ${metalness};</span>
<span class="s">                      roughness: ${roughness};</span>
<span class="s">                      src: url(${src})&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">a-entity</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>
</pre></div>


<p><code>&lt;a-cube&gt;</code> wraps a single entity (with the <code>geometry.primitive=box</code>) and
exposes a few component attributes as HTML attributes. Don't worry about the
attributes that seem unfamiliar, we will go over some of them later and point
to the comprehensive documentation.</p>
<p>A-Frame also has <a href="http://aframe.io/docs/core/animation.html">an animation system</a>. Let's try
makng the cube rotate indefinitely. The animation system also works with the core system,
not just templates.</p>
<div class="highlight"><pre><span class="p">&lt;</span><span class="nt">a-scene</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">a-cube</span> <span class="na">color</span><span class="o">=</span><span class="s">&quot;red&quot;</span> <span class="na">depth</span><span class="o">=</span><span class="s">&quot;1&quot;</span> <span class="na">height</span><span class="o">=</span><span class="s">&quot;1&quot;</span> <span class="na">width</span><span class="o">=</span><span class="s">&quot;1&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">a-animation</span> <span class="na">attribute</span><span class="o">=</span><span class="s">&quot;rotation&quot;</span> <span class="na">repeat</span><span class="o">=</span><span class="s">&quot;indefinite&quot;</span> <span class="na">to</span><span class="o">=</span><span class="s">&quot;0 360 360&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">a-animation</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">a-cube</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">a-scene</span><span class="p">&gt;</span>
</pre></div>


<h3 id="caveats">Caveats</h3>
<p>Templates <em>may</em> be subject to flux such as reimplementation or modularization
into a different repository. From a technical standpoint, A-Frame templates and
primitives are somewhat immature and less flexible, but from a product standpoint,
they are more usable and less exotic to newer users of A-Frame. For full flexbility,
we have to dig deeper.</p>
<h2 id="damn-im-good-difficulty-entity-component-system">"Damn I'm Good" Difficulty - Entity-Component System</h2>
<p>For those that want to be unleashed into the full promised power, flexibility,
and composability of A-Frame, we can finally end the hand-waving and check out
the <a href="http://aframe.io/docs/core/">core entity-component system</a>.</p>
<p>Despite having been abstracted away from the aforementioned templates, A-Frame is built on an
entity-component system. Entities are general purpose placeholder objects.
Components modify the appearance, behavior, or functionality of the entities.
And every object in the scene is an entity whether it be the player, a tree, a
monster, the sky, a sound, lights. Components can be mixed and matched,
composed and overridden. A-Frame comes with a bunch of components, and anyone
can write their own components to have objects look however or do whatever
they want. Check out all of the <a href="http://aframe.io/docs/components/">shipped components</a>,
and check out some third-party custom components at <a href="http://github.com/aframevr/awesome-aframe">awesome-aframe</a>.</p>
<p>Let's start with a blank entity:</p>
<div class="highlight"><pre><span class="p">&lt;</span><span class="nt">a-entity</span><span class="p">&gt;&lt;/</span><span class="nt">a-entity</span><span class="p">&gt;</span>
</pre></div>


<p>By default, this lonely entity inherently only has a position, rotation, and
scale in the scene. Without any other components, nothing will render on the
scene. Let's change that, giving it a geometry (shape) and material (appearance).</p>
<div class="highlight"><pre><span class="p">&lt;</span><span class="nt">a-entity</span> <span class="na">geometry</span><span class="o">=</span><span class="s">&quot;primitive: sphere&quot;</span> <span class="na">material</span><span class="o">=</span><span class="s">&quot;color: red&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">a-entity</span><span class="p">&gt;</span>
</pre></div>


<p>Now we should be seeing something. But why stop there? Let's make it emit light on other
entities.</p>
<div class="highlight"><pre><span class="p">&lt;</span><span class="nt">a-entity</span> <span class="na">geometry</span><span class="o">=</span><span class="s">&quot;primitive: sphere&quot;</span> <span class="na">material</span><span class="o">=</span><span class="s">&quot;color: red&quot;</span>
          <span class="na">light</span><span class="o">=</span><span class="s">&quot;type: point; intensity: 2&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">a-entity</span><span class="p">&gt;</span>
</pre></div>


<p>Let's have it stare at the camera.</p>
<div class="highlight"><pre><span class="p">&lt;</span><span class="nt">a-entity</span> <span class="na">geometry</span><span class="o">=</span><span class="s">&quot;primitive: sphere&quot;</span> <span class="na">material</span><span class="o">=</span><span class="s">&quot;color: red&quot;</span>
          <span class="na">light</span><span class="o">=</span><span class="s">&quot;type: point; intensity: 2&quot;</span> <span class="na">look-at</span><span class="o">=</span><span class="s">&quot;[camera]&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">a-entity</span><span class="p">&gt;</span>
</pre></div>


<p>Let's have it emit sound.</p>
<div class="highlight"><pre><span class="p">&lt;</span><span class="nt">a-entity</span> <span class="na">geometry</span><span class="o">=</span><span class="s">&quot;primitive: sphere&quot;</span> <span class="na">material</span><span class="o">=</span><span class="s">&quot;color: red&quot;</span>
          <span class="na">light</span><span class="o">=</span><span class="s">&quot;type: point; intensity: 2&quot;</span> <span class="na">look-at</span><span class="o">=</span><span class="s">&quot;[camera]&quot;</span>
          <span class="na">sound</span><span class="o">=</span><span class="s">&quot;src: squeak.mp3&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">a-entity</span><span class="p">&gt;</span>
</pre></div>


<p>There are all of these components that can customize our entities. And all
these attributes that can customize our components. And anyone can <a href="http://github.com/ngokevin/aframe-component-boilerplate">write their
own components</a>, having free reign to add any behavior they
can imagine. Some components we might write include a layout component, a
vibrate component, a cloner component, an explode component, a set-on-fire
component. I am very excited to see what people come up with.</p>
<p>The raw entity-component system is what we consider low-level. But all
low-level things are made to be abstracted. Bring on the hot trend of 2015,
React.</p>
<h2 id="born-to-be-wild-difficulty-react">"Born to be Wild" Difficulty - React</h2>
<p>Note that A-Frame + React integration is experimental and is currently my
personal project. I haven't yet stress-tested possible performance limitations
that the Virtual DOM may introduce. <a href="https://github.com/Izzimach/react-three">react-three</a>,
another React library on top of three.js, had limitations because each object
introduced its own <code>requestAnimationFrame</code>. React + A-Frame does not have those kinds of
limitations.</p>
<p>React is a great fit with A-Frame now that React v0.14 accepts custom
attributes.  I gave it a shot and within an hour, I developed a <a href="http://github.com/ngokevin/aframe-react">library
integrating A-Frame and React</a> and <a href="http://github.com/ngokevin/aframe-react-boilerplate">a boilerplate featuring
aframe-react and Webpack</a>.</p>
<p>Why does React work so well with A-Frame?</p>
<ul>
<li>A-Frame is already based on custom elements. It does not take much to wrap it with React.</li>
<li>Reactive updates and data binding vastly reduces the amount of manual DOM manipulation.</li>
<li>The React ecosystem with NPM provides a great way for sharing A-Frame templates, mixins,
  and components.</li>
<li>Redux can then be layered on to provide statefulness to the application which will be
  great for editors and tooling.</li>
<li>Event handling is easier as we can just set event handler functions as props on
  our A-Frame/React components.</li>
<li><code>props</code> makes it easy to extend and compose A-Frame component data, making A-Frame
  mixins completely obsolete.</li>
<li>With Babel, a standard tool for transpiling React, giving object rest/spread properties
  and templating strings, passing down components are easy and concise.</li>
</ul>
<p>Here's an <a href="http://github.com/ngokevin/aframe-react-boilerplate/tree/master/src/js/app.js">example scene</a> where clicking a spinning cube changes its color.</p>
<div class="highlight"><pre><span class="kr">class</span> <span class="nx">ExampleScene</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span> <span class="p">{</span>
  <span class="nx">constructor</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
    <span class="kr">super</span><span class="p">(</span><span class="nx">props</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">state</span> <span class="o">=</span> <span class="p">{</span>
      <span class="nx">color</span><span class="o">:</span> <span class="s1">&#39;red&#39;</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="nx">changeColor</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="nx">colors</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="s1">&#39;orange&#39;</span><span class="p">,</span> <span class="s1">&#39;yellow&#39;</span><span class="p">,</span> <span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">];</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span>
      <span class="nx">color</span><span class="o">:</span> <span class="nx">colors</span><span class="p">[</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">*</span> <span class="nx">colors</span><span class="p">.</span><span class="nx">length</span><span class="p">)],</span>
    <span class="p">});</span>
  <span class="p">}</span>

  <span class="nx">render</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">Scene</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">Camera</span><span class="o">&gt;&lt;</span><span class="nx">Cursor</span><span class="o">/&gt;&lt;</span><span class="err">/Camera&gt;</span>

        <span class="o">&lt;</span><span class="nx">Sky</span><span class="o">/&gt;</span>

        <span class="o">&lt;</span><span class="nx">Light</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;ambient&quot;</span> <span class="nx">color</span><span class="o">=</span><span class="s2">&quot;#888&quot;</span><span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="nx">Light</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;directional&quot;</span> <span class="nx">intensity</span><span class="o">=</span><span class="s2">&quot;0.5&quot;</span> <span class="nx">position</span><span class="o">=</span><span class="s2">&quot;-1 1 0&quot;</span><span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="nx">Light</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;directional&quot;</span> <span class="nx">intensity</span><span class="o">=</span><span class="s2">&quot;1&quot;</span> <span class="nx">position</span><span class="o">=</span><span class="s2">&quot;1 1 0&quot;</span><span class="o">/&gt;</span>

        <span class="o">&lt;</span><span class="nx">Entity</span> <span class="nx">geometry</span><span class="o">=</span><span class="s2">&quot;primitive: box&quot;</span> <span class="nx">material</span><span class="o">=</span><span class="p">{{</span><span class="nx">color</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">color</span><span class="p">}}</span>
                <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">changeColor</span><span class="p">}</span>
                <span class="nx">position</span><span class="o">=</span><span class="s2">&quot;0 0 -5&quot;</span><span class="o">&gt;</span>
          <span class="o">&lt;</span><span class="nx">Animation</span> <span class="nx">attribute</span><span class="o">=</span><span class="s2">&quot;rotation&quot;</span> <span class="nx">dur</span><span class="o">=</span><span class="s2">&quot;5000&quot;</span> <span class="nx">repeat</span><span class="o">=</span><span class="s2">&quot;indefinite&quot;</span> <span class="nx">to</span><span class="o">=</span><span class="s2">&quot;0 360 360&quot;</span><span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="err">/Entity&gt;</span>
      <span class="o">&lt;</span><span class="err">/Scene&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>Using React provides the best of all the worlds. The conciseness of A-Frame
templates, the power of the A-Frame core system, and the ecosystem of NPM. The
scene here is pretty concise and easy to read.</p>
<p>To demonstrate how easy it is to create React components, here is the definition
for a dumb <code>&lt;Light&gt;</code> using a stateless React component:</p>
<div class="highlight"><pre><span class="kr">export</span> <span class="k">default</span> <span class="kr">const</span> <span class="nx">Light</span> <span class="o">=</span> <span class="nx">props</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="o">&lt;</span><span class="nx">Entity</span> <span class="nx">light</span><span class="o">=</span><span class="p">{...</span><span class="nx">props</span><span class="p">}</span><span class="o">&gt;&lt;</span><span class="err">/Entity&gt;;</span>
<span class="p">};</span>
</pre></div>


<p>I imagine, with the current state of web development, that people will enjoy
this. I know I will.</p>
<h2 id="behind-the-scenes-developing-a-frame">Behind the Scenes - Developing A-Frame</h2>
<p>Getting more into personal notes, I have been contributing to MozVR and A-Frame over the last
couple months, working on the core entity-component pieces of the system at
<a href="http://github.com/aframevr/aframe-core">A-Frame Core</a>. With Firefox OS
smartphones having "fallen" and with my previous team as well as dissolved,
working in 3D and VR has been immensely exciting. To catch up, I have had to
read and take notes about design, brush up on my linear alegbra, and dive into
the world of 3D rendering. <a href="http://www.amazon.com/Design-Everyday-Things-Donald-Norman/dp/1452654123">The Design of Everything Things</a>,
<a href="http://www.realtimerendering.com/">Real-Time Rendering</a>, <a href="http://www.amazon.com/Primer-Graphics-Development-Wordware-Library/dp/1556229119">3D Math Primer</a>,
<a href="https://37signals.com/rework/">Rework</a> and <a href="http://www.amazon.com/Virtual-Reality-Insider-Guidebook-Industry/dp/0990999920">Virtual Reality Insider</a>
were all books that came in handy.</p>
<p>The hardest thing about developing on A-Frame was feeling out the target
audience. Should this be for beginners, for everyone and their grandma, for
novices, for seasoned developers? I still don't feel it's been quite resolved.
It's a question that has driven a lot of debates with the API design and
messaging. One instance of contention was the naming of <code>&lt;a-entity&gt;</code> vs. the
former <code>&lt;a-object&gt;</code>. Or whether or not to hide the entity-component system
behind templates and primitives such that A-Frame does not seem too exotic.</p>
<p>The most fun thing about developing on A-Frame was how much there was to learn
and discover. I was just about to hit a ceiling on the Firefox Marketplace
team; after taking the whole React and Redux journey and absorbing everything,
I had well outgrown the project (well, especially since it was dying). Jumping
into 3D and VR, I accumulated <a href="http://nattyornot.com/bodybuilding-basics-noob-gains-explained/">noob
gains</a> on 3D
development, rendering, game development patterns, and API design. And working
with a team in-person rather than remotely was refreshing</p>
<p>And there's more to discover like what standard VR interactions will form and
what will VR web browsing look like? It's imagining a future that hasn't come.
Y'all remember bring your A-Frame.</p>
<h2 id="further-resources">Further Resources</h2>
<ul>
<li>Check out the <a href="http://aframe.io/docs/">official docs</a>.</li>
<li>Connect with us and the community on the <a href="http://aframevr.slack.com">A-Frame Slack channel</a>.</li>
<li>See a community-populated list of resources at <a href="http://github.com/aframevr/awesome-aframe">awesome-aframe</a>.</li>
</ul>
  </div>

  <p class="end-sect">&sect;</p>
  <div id="bottom-share" class="addthis_toolbox addthis_default_style">
  <a class="addthis_button_facebook_like" fb:like:layout="button_count"></a>
  <a class="addthis_button_tweet"></a>
</div>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-513af3cd5e69b4ae"></script>
   <div id="disqus_thread"></div>
  <script type="text/javascript">
      /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
      var disqus_shortname = 'ngokevin'; // required: replace example with your forum shortname

      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function() {
           var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
           dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
           (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
  <script src="https://cdn.jsdelivr.net/anchorjs/3.0.0/anchor.min.js"></script>
  <script>anchors.add('h2, h3, h4, h5, h6');</script>

      </div>
    </div>

    <div id="footer">
      <a href="mailto:me@ngokevin.com"><i class="fa fa-envelope"></i></a>
      <a href="http://twitter.com/ngokevin_"><i class="fa fa-twitter-square"></i></a>
      <a href="http://github.com/ngokevin"><i class="fa fa-github-square"></i></a>
      <a type="application/rss+xml" href="/rss/index.xml"><i class="fa fa-rss-square"></i></a>
    </div>

     <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-29871909-1']);
  _gaq.push(['_trackPageview']);

  (function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
  </body>
</html>